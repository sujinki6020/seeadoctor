<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.seeadoctor.repository.mapper.HospitalLikeMapper">

	<resultMap id="hospAboutMap" type="hospitalAbout">
		<result column="id" property="id"/>
		<result column="hosp_code" property="hospCode"/>
		<result column="name" property="name"/>
		<result column="main_treat" property="mainTreat"/>
	</resultMap>
	
		
		<select id="selectMyLikeCnt" parameterType="hospitalAbout" resultType="int">
			select count(*)
			  from tb_like
			 where id = #{id} 
		</select>
		
		<select id="selectHospLikeCnt" parameterType="hospitalAbout" resultType="int">
			select count(*)
			  from tb_like
			 where id = #{id}
			   and hosp_code = #{hospCode}
		</select>  
		
		<select id="selectAllHospLike" parameterType="string" resultMap="hospAboutMap">
			select *
			  from tb_like
			 where id = #{id} 
		</select>
		
		<insert id="insertHospLike" parameterType="hospitalAbout">
			insert into tb_like(
				id, hosp_code, name, main_treat
			) values(
				#{id}, #{hospCode}, #{name}, #{mainTreat}
			)
		</insert>
		
		<delete id="deleteHospLike" parameterType="hospitalAbout">
			delete
			  from tb_like
			 where id = #{id}
			   and hosp_code = #{hospCode}
		</delete>
</mapper>